@import 'tailwindcss';

@theme {
	/* 1. 定义基础变量（默认是浅色模式的值） */
	--color-page-bg: #ffffff;
	--color-card-bg: #ffffff;
	--color-text-main: #1e293b;
	--color-border-main: #e2e8f0;
	--color-border-default: #efefef;

	--color-primary: #3695ff;
	--color-primary-hover: #56a7ff;
	--color-sidebar-select-bg: #ffffff;
	--color-sidebar-select-item: #444;
	--color-sidebar-unselect-item: #aaa;
	--color-chatItem-select-bg: #8e959730;

	--color-grad-start: #f4f4f4;
	--color-grad-end: #ebe2df;
}

/* 2. 在 @theme 外部，通过 .dark 类名覆盖变量 */
@layer base {
	.dark {
		/* 当 html 拥有 .dark 类时，这些变量的值会被重写 */
		--color-page-bg: #18181c;
		--color-card-bg: #242428;
		--color-text-main: #e5e7eb;
		--color-border-main: #333333; /* 修正了你代码中多出的一个 3 */
		--color-border-default: #3f4144;
		--color-sidebar-select-bg: #3e3f3f;
		--color-sidebar-select-item: #fff;
		--color-sidebar-unselect-item: #555555;
		--color-chatItem-select-bg: #ffffff38;
		--color-grad-start: #1e1e20;
		--color-grad-end: #121214;

		/* 强制告知浏览器使用深色方案（处理滚动条等） */
		color-scheme: dark;
	}
}
.drag,
.drag *,
.drag-region,
.drag-region * {
	-webkit-app-region: drag !important;
}

.no-drag,
.no-drag * {
	-webkit-app-region: no-drag !important;
}
@layer components {
	/* 作用于 Tiptap 渲染出来的实际编辑区 */
	.tiptap.ProseMirror {
		@apply outline-none transition-colors duration-200;

		/* 针对不同层级的文本颜色进行细调 */
		@apply text-gray-800 dark:text-gray-200;

		/* 链接样式 */
		a {
			@apply text-blue-600 dark:text-blue-400 underline;
		}

		/* 代码块/行内代码适配 */
		code {
			@apply bg-gray-100 dark:bg-gray-800 text-red-500 dark:text-red-400 px-1 rounded;
		}

		/* 引用块样式 */
		blockquote {
			@apply border-l-4 border-gray-300 dark:border-gray-700 pl-4 italic text-gray-600 dark:text-gray-400;
		}

		/* 占位符适配 (如果你使用了 Placeholder 扩展) */
		p.is-editor-empty:first-child::before {
			@apply text-gray-400 dark:text-gray-500 float-left h-0 pointer-events-none;
			content: attr(data-placeholder);
		}
	}

	/* Unified modal theme (aligned with global-search modal) */
	.app-modal-card.n-card,
	.app-modal-card .n-card {
		border-radius: 8px !important;
		border: none !important;
		box-shadow: 0 16px 46px rgba(15, 23, 42, 0.14);
	}

	.app-modal-card.n-card > .n-card-header,
	.app-modal-card .n-card-header {
		padding: 12px 14px !important;
		border-bottom: none !important;
		background: linear-gradient(180deg, #3695ff 0%, #2f7fe7 100%);
	}

	.app-modal-card.n-card > .n-card-header .n-card-header__main,
	.app-modal-card .n-card-header .n-card-header__main {
		color: #fff !important;
		font-size: 15px;
		font-weight: 600;
	}

	.app-modal-card.n-card .n-base-close,
	.app-modal-card .n-base-close {
		color: rgba(255, 255, 255, 0.86) !important;
	}

	.app-modal-card.n-card > .n-card__content,
	.app-modal-card.n-card > .n-card__footer,
	.app-modal-card .n-card__content,
	.app-modal-card .n-card__footer {
		background: var(--color-card-bg);
	}

	.app-modal-card.n-card > .n-card__content,
	.app-modal-card .n-card__content {
		padding: 16px 18px !important;
	}

	.app-modal-card.n-card > .n-card__footer,
	.app-modal-card .n-card__footer {
		padding: 12px 18px 18px !important;
		border-top: 1px solid rgba(148, 163, 184, 0.2);
	}

	.dark .app-modal-card.n-card,
	.dark .app-modal-card .n-card {
		box-shadow: 0 20px 52px rgba(0, 0, 0, 0.45);
	}

	.dark .app-modal-card.n-card > .n-card__footer,
	.dark .app-modal-card .n-card__footer {
		border-top-color: rgba(82, 82, 91, 0.74);
	}

	.app-modal-dialog .n-dialog {
		border-radius: 28px !important;
		overflow: hidden;
		border: none !important;
		box-shadow: 0 16px 46px rgba(15, 23, 42, 0.14);
	}

	.app-modal-dialog .n-dialog .n-dialog__title {
		padding: 12px 14px 10px !important;
		margin: 0 !important;
		color: #fff !important;
		font-size: 15px;
		font-weight: 600;
		background: linear-gradient(180deg, #3695ff 0%, #2f7fe7 100%);
	}

	.app-modal-dialog .n-dialog .n-dialog__content {
		padding: 16px 18px !important;
		background: var(--color-card-bg);
	}

	.app-modal-dialog .n-dialog .n-dialog__action {
		padding: 10px 18px 18px !important;
		border-top: 1px solid rgba(148, 163, 184, 0.2);
		background: var(--color-card-bg);
	}

	.dark .app-modal-dialog .n-dialog {
		box-shadow: 0 20px 52px rgba(0, 0, 0, 0.45);
	}

	.app-modal-shell,
	.next-transfer-modal,
	.next-wallet-modal,
	.next-search-modal,
	.next-global-search-modal,
	.transfer-modal-content {
		border-radius: 8px !important;
		overflow: hidden;
		border: none !important;
		box-shadow: 0 16px 46px rgba(15, 23, 42, 0.14);
	}

	.dark .app-modal-shell,
	.dark .next-transfer-modal,
	.dark .next-wallet-modal,
	.dark .next-search-modal,
	.dark .next-global-search-modal,
	.dark .transfer-modal-content {
		box-shadow: 0 20px 52px rgba(0, 0, 0, 0.45);
	}

	.app-modal-header,
	.modal-header-section,
	.modal-header-gradient {
		background: linear-gradient(
			180deg,
			#3695ff 0%,
			#2f7fe7 100%
		) !important;
	}

	.app-modal-close,
	.close-orb {
		width: 32px;
		height: 32px;
		border-radius: 10px;
		display: flex;
		align-items: center;
		justify-content: center;
	}

	.app-modal-btn-primary,
	.modal-btn-primary {
		border-radius: 12px;
		background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
		color: #fff;
		font-weight: 600;
	}

	.app-modal-btn-ghost,
	.modal-btn-ghost,
	.modal-btn-secondary {
		border-radius: 12px;
	}
}
/* Bubble Menu Animations */
@keyframes bubble-in {
	from {
		opacity: 0;
		transform: translateY(10px) scale(0.95);
	}
	to {
		opacity: 1;
		transform: translateY(0) scale(1);
	}
}

.animate-bubble-in {
	animation: bubble-in 0.2s cubic-bezier(0.16, 1, 0.3, 1);
}
